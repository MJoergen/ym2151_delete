# Example Design

This directory contains an Example Design for the YM2151 running on the Digilent
Nexys4DDR board.

This file contains an overview of the Example Design, as well as instructions
for customizing.

## Overview

The Example Design consists of the following components:
* Clock and Reset generation.
* YM2151 module.
* Pulse Width Modulator.

### Clock and Reset generation
The example design makes use of two clocks:
* The YM2151 block needs a clock of 3.579 MHz.
* The Pulse Width Modulator needs a clock of 229 MHz.

The ratio of the two clocks is precisely 1:64.

The input frequency to the FPGA on the board is 100 MHz, and a MMCM generates
the 229 MHz clock. The 3.579 Mhz clock is generated by a simple counter.

The reset generation is controlled by the input pin CPU\_RESETN on the board.
The internal reset is held high for 36 clock cycles to ensure that the YM2151
is completely reset.

### Pulse Width Modulator
The PWM module runs on a clock frequency of 229 MHz and samples the input
data at a rate of 112 kHz.

On the Nexys4DDR board the output of the PWM is passed through a fourth order
low pass filter at 15 kHz.

